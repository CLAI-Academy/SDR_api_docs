{
  "info": {
    "_postman_id": "a1b2c3d4-e5f6-4789-a0b1-c2d3e4f5g6h7",
    "name": "SDR Agent API",
    "description": "ColecciÃ³n completa de la API de SDR Agent organizada por casos de uso. Incluye flujos completos de imports, campaÃ±as y limpieza con tests automÃ¡ticos y variables dinÃ¡micas.\n\n## ðŸ“‹ Orden de EjecuciÃ³n Recomendado\n\n1. **UC1: Crear Import con Contactos** (1.1 â†’ 1.7)\n2. **UC2: Crear CampaÃ±a y Asociar Import** (2.1 â†’ 2.8)\n3. **Cleanup & Deletion** (3.1 â†’ 3.3)\n\n## ðŸŒ ConfiguraciÃ³n\n\nAsegÃºrate de configurar las siguientes variables en tu environment:\n- `baseUrl`: URL base de la API\n- `apiKey`: Tu API Key de autenticaciÃ³n\n\n## ðŸš€ Uso\n\nPuedes ejecutar requests individuales o usar el Collection Runner para ejecutar flujos completos.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "12345678"
  },
  "auth": {
    "type": "apikey",
    "apikey": [
      {
        "key": "value",
        "value": "{{apiKey}}",
        "type": "string"
      },
      {
        "key": "key",
        "value": "X-API-Key",
        "type": "string"
      }
    ]
  },
  "event": [
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Logging de respuesta",
          "const timestamp = new Date().toISOString();",
          "const statusCode = pm.response.code;",
          "const responseTime = pm.response.responseTime;",
          "",
          "console.log(`[${timestamp}] âœ“ Response: ${statusCode} (${responseTime}ms)`);",
          "",
          "// Test global: Validar que no hay errores 500",
          "pm.test(\"No server errors (5xx)\", function () {",
          "    pm.expect(pm.response.code).to.be.below(500);",
          "});",
          "",
          "// Test global: Response time",
          "pm.test(\"Response time is less than 5000ms\", function () {",
          "    pm.expect(pm.response.responseTime).to.be.below(5000);",
          "});",
          "",
          "// Test global: Content-Type para JSON",
          "if (pm.response.headers.get(\"Content-Type\")?.includes(\"application/json\")) {",
          "    pm.test(\"Response is valid JSON\", function () {",
          "        pm.response.to.be.json;",
          "    });",
          "}"
        ]
      }
    }
  ],
  "item": [
    {
      "name": "0. Setup & Authentication",
      "item": [
        {
          "name": "Get API Key (Info/Documentation)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/",
              "host": ["{{baseUrl}}"],
              "path": [""]
            },
            "description": "# CÃ³mo obtener tu API Key\n\n1. Accede al dashboard de SDR Agent\n2. Ve a Settings > API Keys\n3. Genera una nueva API Key\n4. Copia el valor y configÃºralo en el environment de Postman\n\nVariables necesarias:\n- baseUrl: https://api.sdragent.com\n- apiKey: sk_live_..."
          },
          "response": []
        }
      ],
      "description": "DocumentaciÃ³n e informaciÃ³n sobre cÃ³mo obtener y configurar las credenciales de autenticaciÃ³n."
    },
    {
      "name": "1. UC1: Crear Import con Contactos",
      "item": [
        {
          "name": "1.1 Create Import",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// Guardar importId para usar en siguientes requests",
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.environment.set(\"importId\", response.id);",
                  "    console.log(\"âœ… Import ID saved:\", response.id);",
                  "}",
                  "",
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Response has import ID\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData.status).to.eql('processing');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"source\": \"postman_test\",\n  \"file_name\": \"test_contacts_q4_2024.csv\",\n  \"status\": \"processing\",\n  \"total_rows\": 0\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/imports/",
              "host": ["{{baseUrl}}"],
              "path": ["imports", ""]
            }
          },
          "response": []
        },
        {
          "name": "1.2 List Imports",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Returns array of imports\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an('array');",
                  "",
                  "    // Verificar que existe nuestro import reciÃ©n creado",
                  "    const importId = pm.environment.get(\"importId\");",
                  "    const found = jsonData.find(imp => imp.id === importId);",
                  "    pm.expect(found).to.not.be.undefined;",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/imports/",
              "host": ["{{baseUrl}}"],
              "path": ["imports", ""]
            }
          },
          "response": []
        },
        {
          "name": "1.3 Get Import by ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Returns correct import\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    const importId = pm.environment.get(\"importId\");",
                  "    pm.expect(jsonData.id).to.eql(importId);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/imports/{{importId}}",
              "host": ["{{baseUrl}}"],
              "path": ["imports", "{{importId}}"]
            }
          },
          "response": []
        },
        {
          "name": "1.4 Bulk Upload Contacts (JSON)",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Contacts inserted successfully\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.inserted).to.be.above(0);",
                  "    console.log(`âœ… ${jsonData.inserted} contacts inserted`);",
                  "",
                  "    // Guardar el total para actualizar el import",
                  "    pm.environment.set(\"totalContactsInserted\", jsonData.inserted);",
                  "",
                  "    // Guardar primer contactId si hay details",
                  "    if (jsonData.details && jsonData.details.length > 0) {",
                  "        pm.environment.set(\"contactId\", jsonData.details[0].id);",
                  "    }",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Import-ID",
                "value": "{{importId}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[\n  {\n    \"full_name\": \"Jane Smith\",\n    \"email\": \"jane.smith@techcorp.com\",\n    \"linkedin_profile\": \"https://linkedin.com/in/janesmith\",\n    \"company\": \"Tech Corp\",\n    \"locale\": \"en-US\",\n    \"timezone\": \"America/New_York\"\n  },\n  {\n    \"full_name\": \"Bob Johnson\",\n    \"email\": \"bob.johnson@startup.io\",\n    \"linkedin_profile\": \"https://linkedin.com/in/bobjohnson\",\n    \"company\": \"Startup Inc\",\n    \"locale\": \"en-US\",\n    \"timezone\": \"America/Los_Angeles\"\n  },\n  {\n    \"full_name\": \"Alice Brown\",\n    \"email\": \"alice.brown@example.com\",\n    \"linkedin_profile\": \"https://linkedin.com/in/alicebrown\",\n    \"company\": \"Example Corp\",\n    \"locale\": \"en-US\",\n    \"timezone\": \"America/Chicago\"\n  }\n]"
            },
            "url": {
              "raw": "{{baseUrl}}/contacts/bulk",
              "host": ["{{baseUrl}}"],
              "path": ["contacts", "bulk"]
            }
          },
          "response": []
        },
        {
          "name": "1.5 Bulk Upload Contacts (CSV)",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"CSV contacts uploaded\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.inserted).to.be.above(0);",
                  "",
                  "    // Sumar al total de contactos",
                  "    const previousTotal = pm.environment.get(\"totalContactsInserted\") || 0;",
                  "    const newTotal = parseInt(previousTotal) + jsonData.inserted;",
                  "    pm.environment.set(\"totalContactsInserted\", newTotal);",
                  "    console.log(`âœ… Total contacts imported: ${newTotal}`);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "X-Import-ID",
                "value": "{{importId}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "description": "CSV file with contacts. Example content:\nfull_name,email,linkedin_profile,company,locale,timezone\nCharlie Davis,charlie.davis@fintech.com,https://linkedin.com/in/charliedavis,FinTech Solutions,en-US,America/New_York\nDiana Martinez,diana.martinez@saas.io,https://linkedin.com/in/dianamartinez,SaaS Company,en-US,America/Los_Angeles",
                  "type": "file",
                  "src": []
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/contacts/bulk",
              "host": ["{{baseUrl}}"],
              "path": ["contacts", "bulk"]
            },
            "description": "Upload contacts using CSV file. You need to select a CSV file with the following structure:\n\n```csv\nfull_name,email,linkedin_profile,company,locale,timezone\nCharlie Davis,charlie.davis@fintech.com,https://linkedin.com/in/charliedavis,FinTech Solutions,en-US,America/New_York\nDiana Martinez,diana.martinez@saas.io,https://linkedin.com/in/dianamartinez,SaaS Company,en-US,America/Los_Angeles\n```"
          },
          "response": []
        },
        {
          "name": "1.6 Update Import (mark completed)",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// Obtener el total de contactos insertados",
                  "const totalContacts = pm.environment.get(\"totalContactsInserted\") || 0;",
                  "console.log(`Marking import as completed with ${totalContacts} contacts`);"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Import marked as completed\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.eql('completed');",
                  "    console.log(\"âœ… Import completed successfully\");",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"completed\",\n  \"total_rows\": {{totalContactsInserted}}\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/imports/{{importId}}",
              "host": ["{{baseUrl}}"],
              "path": ["imports", "{{importId}}"]
            }
          },
          "response": []
        },
        {
          "name": "1.7 List Contacts (verify)",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Contacts were imported\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    const expectedTotal = pm.environment.get(\"totalContactsInserted\");",
                  "    pm.expect(jsonData.length).to.be.at.least(parseInt(expectedTotal));",
                  "    console.log(`âœ… Verified: ${jsonData.length} total contacts in database`);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/contacts/",
              "host": ["{{baseUrl}}"],
              "path": ["contacts", ""]
            }
          },
          "response": []
        }
      ],
      "description": "Flujo completo: Crear un import, subir contactos en bulk (JSON y CSV) y verificar la importaciÃ³n."
    },
    {
      "name": "2. UC2: Crear CampaÃ±a y Asociar Import",
      "item": [
        {
          "name": "2.1 Create Campaign (basic)",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.environment.set(\"campaignId\", response.id);",
                  "    console.log(\"âœ… Campaign ID saved:\", response.id);",
                  "}",
                  "",
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Campaign created with correct data\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData.status).to.eql('active');",
                  "    pm.expect(jsonData.availability_data).to.not.be.undefined;",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Postman Test Campaign - Basic\",\n  \"description\": \"Campaign created via Postman for testing basic flow\",\n  \"status\": \"active\",\n  \"service_id\": \"{{serviceId}}\",\n  \"icp_profile_id\": \"{{icpProfileId}}\",\n  \"target_meeting_type\": \"{{targetMeetingType}}\",\n  \"review_required_default\": \"{{reviewRequiredDefault}}\",\n  \"seller_name\": \"{{sellerName}}\",\n  \"provider_account_id\": [\"{{providerAccountId}}\"],\n  \"availability_data\": {\n    \"start_working\": \"09:00\",\n    \"end_working\": \"17:00\",\n    \"weekend_work\": false,\n    \"calendar_id\": \"primary\"\n  },\n  \"publish_posts\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/campaigns/",
              "host": ["{{baseUrl}}"],
              "path": ["campaigns", ""]
            }
          },
          "response": []
        },
        {
          "name": "2.2 Create Campaign (with Lead Magnet)",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.environment.set(\"campaignId\", response.id);",
                  "",
                  "    if (response.lead_magnet_id) {",
                  "        pm.environment.set(\"leadMagnetId\", response.lead_magnet_id);",
                  "        console.log(\"âœ… Lead Magnet ID saved:\", response.lead_magnet_id);",
                  "    }",
                  "    console.log(\"âœ… Campaign ID saved:\", response.id);",
                  "}",
                  "",
                  "pm.test(\"Campaign created with lead magnet\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.lead_magnet_id).to.not.be.null;",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Postman Test Campaign - With Lead Magnet\",\n  \"description\": \"Testing inline lead magnet creation\",\n  \"status\": \"active\",\n  \"service_id\": \"{{serviceId}}\",\n  \"icp_profile_id\": \"{{icpProfileId}}\",\n  \"target_meeting_type\": \"{{targetMeetingType}}\",\n  \"review_required_default\": \"{{reviewRequiredDefault}}\",\n  \"seller_name\": \"{{sellerName}}\",\n  \"provider_account_id\": [\"{{providerAccountId}}\"],\n  \"availability_data\": {\n    \"start_working\": \"09:00\",\n    \"end_working\": \"18:00\",\n    \"weekend_work\": false,\n    \"calendar_id\": \"primary\"\n  },\n  \"lead_magnet\": {\n    \"name\": \"2024 Industry Benchmark Report\",\n    \"description\": \"Complete benchmark report for Q4 2024\",\n    \"url\": \"https://cdn.example.com/benchmarks-2024.pdf\",\n    \"content_type\": \"pdf\"\n  },\n  \"publish_posts\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/campaigns/",
              "host": ["{{baseUrl}}"],
              "path": ["campaigns", ""]
            }
          },
          "response": []
        },
        {
          "name": "2.3 List Campaigns",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Returns campaigns list\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an('array');",
                  "",
                  "    // Verificar que existe nuestra campaÃ±a",
                  "    const campaignId = pm.environment.get(\"campaignId\");",
                  "    const found = jsonData.find(camp => camp.id === campaignId);",
                  "    pm.expect(found).to.not.be.undefined;",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/campaigns/?status=active",
              "host": ["{{baseUrl}}"],
              "path": ["campaigns", ""],
              "query": [
                {
                  "key": "status",
                  "value": "active"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "2.4 Get Campaign by ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Returns correct campaign\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    const campaignId = pm.environment.get(\"campaignId\");",
                  "    pm.expect(jsonData.id).to.eql(campaignId);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/campaigns/{{campaignId}}",
              "host": ["{{baseUrl}}"],
              "path": ["campaigns", "{{campaignId}}"]
            }
          },
          "response": []
        },
        {
          "name": "2.5 Link Import to Campaign",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Leads created successfully\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.inserted_leads).to.be.above(0);",
                  "    pm.expect(jsonData.linked_imports).to.eql(1);",
                  "",
                  "    console.log(`âœ… ${jsonData.inserted_leads} leads created`);",
                  "    console.log(`   Considered: ${jsonData.considered_contacts}`);",
                  "    console.log(`   Excluded: ${jsonData.excluded_contacts}`);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"import_ids\": [\n    \"{{importId}}\"\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/campaign-imports/{{campaignId}}/imports",
              "host": ["{{baseUrl}}"],
              "path": ["campaign-imports", "{{campaignId}}", "imports"]
            }
          },
          "response": []
        },
        {
          "name": "2.6 List Campaign Leads",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Returns campaign leads\", function () {",
                  "    const response = pm.response.json();",
                  "    pm.expect(response).to.be.an('array');",
                  "    pm.expect(response.length).to.be.above(0);",
                  "",
                  "    // Guardar primer leadId",
                  "    if (response.length > 0) {",
                  "        pm.environment.set(\"leadId\", response[0].id);",
                  "        console.log(`âœ… Found ${response.length} leads`);",
                  "        console.log(`   First lead ID saved: ${response[0].id}`);",
                  "    }",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/campaign-leads/?campaign_id={{campaignId}}",
              "host": ["{{baseUrl}}"],
              "path": ["campaign-leads", ""],
              "query": [
                {
                  "key": "campaign_id",
                  "value": "{{campaignId}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "2.7 Get Lead by ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Returns correct lead\", function () {",
                  "    const jsonData = pm.response.json();",
                  "    const leadId = pm.environment.get(\"leadId\");",
                  "    pm.expect(jsonData.id).to.eql(leadId);",
                  "    pm.expect(jsonData.campaign_id).to.eql(pm.environment.get(\"campaignId\"));",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/campaign-leads/{{leadId}}",
              "host": ["{{baseUrl}}"],
              "path": ["campaign-leads", "{{leadId}}"]
            }
          },
          "response": []
        }
      ],
      "description": "Flujo completo: Crear una campaÃ±a (bÃ¡sica o con lead magnet) y vincular el import previamente creado para generar leads.\n\n**Pre-requisito:** Ejecutar UC1 primero para tener un `importId` con contactos."
    },
    {
      "name": "3. Cleanup & Deletion",
      "item": [
        {
          "name": "3.1 Delete Contact",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "console.log(\"âœ… Contact deleted\");"
                ]
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/contacts/{{contactId}}",
              "host": ["{{baseUrl}}"],
              "path": ["contacts", "{{contactId}}"]
            }
          },
          "response": []
        },
        {
          "name": "3.2 Delete Campaign",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "console.log(\"âœ… Campaign deleted\");"
                ]
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/campaigns/{{campaignId}}",
              "host": ["{{baseUrl}}"],
              "path": ["campaigns", "{{campaignId}}"]
            }
          },
          "response": []
        },
        {
          "name": "3.3 Delete Import",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "console.log(\"âœ… Import deleted\");"
                ]
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/imports/{{importId}}",
              "host": ["{{baseUrl}}"],
              "path": ["imports", "{{importId}}"]
            }
          },
          "response": []
        }
      ],
      "description": "Flujo de limpieza: Eliminar recursos creados durante las pruebas (contactos, campaÃ±as, imports)."
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "https://sdr-api-middleware-dev-744615578405.europe-west1.run.app",
      "type": "string"
    },
    {
      "key": "apiKey",
      "value": "",
      "type": "string"
    },
    {
      "key": "serviceId",
      "value": "1c9f6c10-b4b6-4c79-b18a-2dc2b603d9c5",
      "type": "string"
    },
    {
      "key": "icpProfileId",
      "value": "63b95f0e-7f67-45e9-9c5c-2d6edb7f1cfa",
      "type": "string"
    },
    {
      "key": "providerAccountId",
      "value": "a13e4e4f-3a8a-4fc5-9c2a-5f7fdaa4d9c2",
      "type": "string"
    },
    {
      "key": "targetMeetingType",
      "value": "Intro call",
      "type": "string"
    },
    {
      "key": "reviewRequiredDefault",
      "value": "human_review",
      "type": "string"
    },
    {
      "key": "sellerName",
      "value": "Jane SDR",
      "type": "string"
    }
  ]
}
